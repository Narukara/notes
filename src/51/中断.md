### 中断

**中断源**

- INT0 : 外部中断0, P3.2
- INT1 : 外部中断1, P3.3
- TF0 : 定时器/计数器T0溢出中断
- TF1 : 定时器/计数器T1溢出中断
- TI : 串行发送中断源
- RI : 串行接收中断源

**控制寄存器TCON**

| D7   | D6   | D5   | D4   | D3   | D2   | D1   | D0   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| TF1  | TR1  | TF0  | TR0  | IE1  | IT1  | IE0  | IT0  |

- TF1 : 定时器/计数器T1的溢出标志位
- TR1 : 定时器/计数器T1的启/停控制位
- TF0 : 定时器/计数器T0的溢出标志位
- TR0 : 定时器/计数器T0的启/停控制位
- IE1 : INT1 中断请求标志位
- IT1 : INT1 中断触发方式控制位, IT1 = 0 时, 低电平触发; IT1 = 1 时, 下降沿触发
- IE0 : INT0 中断请求标志位
- IT0 : INT0 中断触发方式控制位, IT0 = 0 时, 低电平触发; IT0 = 1 时, 下降沿触发

**控制寄存器SCON**

| D7   | D6   | D5   | D4   | D3   | D2   | D1   | D0   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| -    | -    | -    | -    | -    | -    | TI   | RI   |

- RI : 串行接口接收数据中断请求标志位, 需要在中断函数中手工清除中断

- TI : 串行接口发送数据中断请求标志位, 需要在中断函数中手工清除中断

**中断允许控制寄存器IE**

| D7   | D6   | D5   | D4   | D3   | D2   | D1   | D0   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| EA   | -    | -    | ES   | ET1  | EX1  | ET0  | EX0  |

- EA : 中断禁止/允许总控制位, EA = 0 时, 禁止所有中断请求
- ES : 串行中断禁止/允许控制位, ES = 0 时, 禁止串行口中断, ES = 1 时, 允许串行口中断
- ET1 : 定时器/计数器T1禁止/允许控制位
- EX1 : INT1 禁止/允许控制位
- ET0 : 定时器/计数器T0禁止/允许控制位
- EX0 : INT0 禁止/允许控制位

**中断优先级控制寄存器IP**

| D7   | D6   | D5   | D4   | D3   | D2   | D1   | D0   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| -    | -    | -    | PS   | PT1  | PX1  | PT0  | PX0  |

- PS : 串行接口中断优先级设置位, PS = 0 时, 设置为低优先级, PS = 1 时, 设置为高优先级
- PT1 : 定时器/计数器T1优先级设置位
- PX1 : INT1优先级设置位
- PT0 : 定时器/计数器T0优先级设置位
- PX0 : INT0优先级设置位

**中断号**

| 0    | 1    | 2    | 3    | 4            | 5    | 6       |
| ---- | ---- | ---- | ---- | ------------ | ---- | ------- |
| INT0 | T0   | INT1 | T1   | 串行接口中断 | T2   | PCA中断 |

