#### 生命周期

生命周期是一种泛型。声明周期代表变量/引用有效的范围。例如：

```rust
let r;
{
    let x = 5;
    r = &x;
}
println!("{}", r);
```

变量 `x` 的生命周期（可以用 `'a` 表示）即从其声明到右大括号。Rust 借用检查器要求引用的生命周期不大于对应变量的生命周期。因此这段代码不能通过编译。

#### 函数中的生命周期注解

从两个字符串中找出较长的一个的函数：

```rust
fn longer<'a>(s1: &'a str, s2: &'a str) -> &'a str {
    if s1.len() > s2.len() {
        s1
    } else {
        s2
    }
}
```

这里使用生命周期注解 `'a`，表明返回的引用依赖于（指向）参数 `s1` 和 `s2`，因此返回的引用的生命周期为 `s1` 和 `s2` 的生命周期重叠的部分

函数或方法的参数的生命周期被称为输入生命周期，而返回值的生命周期被称为输出生命周期。在一些情况下可以省略生命周期标注：

1. 函数仅有一个输入生命周期，则所有输出生命周期与其相同
2. 函数是方法，则所有输出生命周期默认与 `self` 相同

#### 结构体中的生命周期注解

```rust
struct Fun<'a> {
    s: &'a str,
    i: usize,
}

impl<'a> Fun<'a> {
    fn new(s: &str) -> Fun {
        Fun { s, i: s.len() }
    }
}
```

`Fun` 含有对其他对象的引用，其生命周期依赖于其他对象，因此需要生命周期注解。`Fun`  对象的生命周期不能比借来的对象 `s` 更长

#### 静态生命周期

字符串字面量具有静态生命周期

```rust
let s: &'static str = "I have a static lifetime.";
```

